module.exports=[91119,a=>{"use strict";var b=a.i(69426),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(69426),c=a.i(84181),d=a.i(42261),e=a.i(68114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},89715,a=>{"use strict";var b=a.i(69426),c=a.i(35843),d=a.i(91119),e=a.i(60721);function f(){let a,[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{let a=await (0,e.apiClient)("/core/stats");a.success&&a.data?g(a.data):k("Failed to load stats")}catch(a){k("Failed to load stats")}finally{i(!1)}};return h?(0,b.jsx)(b.Fragment,{children:[1,2,3,4].map(a=>(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)("div",{className:"h-4 w-24 bg-slate-200 rounded animate-pulse"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"h-8 w-16 bg-slate-200 rounded animate-pulse"})})]},a))}):j||!f?(0,b.jsx)(d.Card,{className:"col-span-4",children:(0,b.jsx)(d.CardContent,{className:"p-6 text-center text-slate-500",children:"Failed to load dashboard statistics"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardDescription,{children:"Total Customers"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.summary.totalCustomers}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Active customers"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardDescription,{children:"Active Accounts"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.summary.activeAccounts}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Across all customers"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardDescription,{children:"Today's Transactions"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:f.summary.todayTransactions}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Since midnight"})]})]}),(0,b.jsxs)(d.Card,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardDescription,{className:"text-emerald-700",children:"Total Deposits"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-800",children:(a=f.summary.totalBalance,new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(a))}),(0,b.jsx)("p",{className:"text-sm text-emerald-600 mt-1",children:"All account balances"})]})]}),(0,b.jsxs)(d.Card,{className:"md:col-span-2",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"Transaction Breakdown"}),(0,b.jsx)(d.CardDescription,{children:"By transaction type"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[f.charts.typeBreakdown.map(a=>{let c=f.charts.typeBreakdown.reduce((a,b)=>a+b.count,0),d=c>0?a.count/c*100:0;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"font-medium",children:a.type}),(0,b.jsxs)("span",{className:"text-slate-500",children:[a.count," (",d.toFixed(0),"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${{DEPOSIT:"bg-emerald-500",WITHDRAWAL:"bg-amber-500",TRANSFER:"bg-blue-500"}[a.type]||"bg-slate-500"} transition-all`,style:{width:`${d}%`}})})]},a.type)}),0===f.charts.typeBreakdown.length&&(0,b.jsx)("p",{className:"text-slate-500 text-center py-4",children:"No transactions yet"})]})})]}),(0,b.jsxs)(d.Card,{className:"md:col-span-2",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"Transaction Volume"}),(0,b.jsx)(d.CardDescription,{children:"Last 7 days"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-end gap-2 h-32",children:f.charts.dailyVolume.length>0?f.charts.dailyVolume.map(a=>{let c=Math.max(...f.charts.dailyVolume.map(a=>a.count),1),d=a.count/c*100,e=new Date(a.date);return(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500",children:a.count}),(0,b.jsx)("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t transition-all",style:{height:`${Math.max(d,5)}%`}}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:e.toLocaleDateString("en-US",{weekday:"short"})})]},a.date)}):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center text-slate-500",children:"No transaction data for the last 7 days"})})})]}),(0,b.jsxs)(d.Card,{className:"md:col-span-4",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"Recent Transactions"}),(0,b.jsx)(d.CardDescription,{children:"Latest completed transactions"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:f.recentTransactions.length>0?f.recentTransactions.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.type}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.accountNumber})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:`font-medium text-sm ${"DEPOSIT"===a.type?"text-green-600":"WITHDRAWAL"===a.type?"text-amber-600":""}`,children:["DEPOSIT"===a.type?"+":"WITHDRAWAL"===a.type?"-":"","৳",a.amount.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:(a=>{let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/6e4);if(c<1)return"Just now";if(c<60)return`${c} min ago`;let d=Math.floor(c/60);return d<24?`${d} hr ago`:b.toLocaleDateString()})(a.createdAt)})]})]},a.id)):(0,b.jsx)("p",{className:"text-slate-500 text-center py-4",children:"No recent transactions"})})})]})]})}a.s(["DashboardStats",()=>f])},2868,a=>{"use strict";var b=a.i(69426),c=a.i(35843),d=a.i(60721),e=a.i(91119),f=a.i(86304),g=a.i(99570),h=a.i(61232);function i(){let[a,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),o=(0,c.useCallback)(async()=>{l(!0),n(null);try{let a=await (0,d.apiClient)("/core/verify");a.success&&a.data?h(a.data):n("Failed to verify system integrity")}catch{n("Failed to connect to verification API")}j(!1),l(!1)},[]);return(0,c.useEffect)(()=>{o()},[o]),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"System Integrity"]}),(0,b.jsx)(e.CardDescription,{children:"Double-entry and balance verification"})]}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:i?(0,b.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,b.jsx)("div",{className:"h-8 bg-slate-200 rounded w-24"}),(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded w-32"})]}):m?(0,b.jsx)("p",{className:"text-red-500 text-sm",children:m}):a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`h-3 w-3 rounded-full ${!a?"bg-gray-500":a.valid?"bg-green-500":"bg-red-500"}`}),(0,b.jsx)(f.Badge,{variant:a.valid?"default":"destructive",children:a?a.valid?"HEALTHY":"ISSUES DETECTED":"Unknown"})]}),(0,b.jsxs)("div",{className:"text-sm space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.doubleEntry.valid?(0,b.jsx)("span",{className:"text-green-600",children:"✓"}):(0,b.jsx)("span",{className:"text-red-600",children:"✗"}),(0,b.jsx)("span",{className:"text-slate-600",children:a.doubleEntry.message})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.balanceIntegrity.valid?(0,b.jsx)("span",{className:"text-green-600",children:"✓"}):(0,b.jsx)("span",{className:"text-red-600",children:"✗"}),(0,b.jsx)("span",{className:"text-slate-600",children:a.balanceIntegrity.message})]})]}),!a.balanceIntegrity.valid&&a.balanceIntegrity.discrepancies.length>0&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-3 text-sm",children:[(0,b.jsxs)("p",{className:"font-medium text-red-800 mb-2",children:["⚠️ ",a.balanceIntegrity.discrepancies.length," accounts with balance discrepancies"]}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-red-700",children:[a.balanceIntegrity.discrepancies.slice(0,3).map(a=>(0,b.jsxs)("p",{children:["Account #",a.accountId,": ",a.materialized," vs ",a.calculated]},a.accountId)),a.balanceIntegrity.discrepancies.length>3&&(0,b.jsxs)("p",{children:["... and ",a.balanceIntegrity.discrepancies.length-3," more"]})]})]}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:o,disabled:k,className:"w-full",children:k?"Verifying...":"Run Verification"})]}):(0,b.jsx)("p",{className:"text-slate-500",children:"Unable to load system health"})})]})}var j=a.i(89715);function k(){let{user:a}=(0,d.useAuth)(),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0);(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await fetch("/api/v1/health"),b=await a.json();l({database:b.services?.database||"disconnected",status:b.status||"unhealthy"})}catch{l({database:"disconnected",status:"unhealthy"})}n(!1)};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Console"}),(0,b.jsxs)("p",{className:"text-slate-600 mt-1",children:["Welcome back, ",a?.firstName,". System administration and monitoring."]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsx)(e.CardDescription,{children:"System Status"})}),(0,b.jsx)(e.CardContent,{children:m?(0,b.jsx)("div",{className:"animate-pulse h-8 bg-slate-200 rounded w-20"}):(0,b.jsx)(f.Badge,{variant:k?.status==="healthy"?"default":"destructive",className:"text-sm",children:k?.status==="healthy"?"● Healthy":"● Unhealthy"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsx)(e.CardDescription,{children:"Database"})}),(0,b.jsx)(e.CardContent,{children:m?(0,b.jsx)("div",{className:"animate-pulse h-8 bg-slate-200 rounded w-24"}):(0,b.jsx)(f.Badge,{variant:k?.database==="connected"?"default":"destructive",className:"text-sm",children:k?.database==="connected"?"● Connected":"● Disconnected"})})]}),(0,b.jsx)(i,{})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"System Overview"}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-4",children:(0,b.jsx)(j.DashboardStats,{})})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"User Management"}),(0,b.jsx)(e.CardDescription,{children:"Manage staff accounts and permissions"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-2",children:[(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/admin/users",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"View Users"]})}),(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/admin/roles",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Manage Roles"]})})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Financial Operations"}),(0,b.jsx)(e.CardDescription,{children:"View ledger and audit trail"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-2",children:[(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/banker/ledger",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View Ledger"]})}),(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/banker/transactions",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Transactions"]})})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Customer Management"}),(0,b.jsx)(e.CardDescription,{children:"View and manage customers"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-2",children:[(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/banker/customers",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"All Customers"]})}),(0,b.jsx)(g.Button,{asChild:!0,variant:"outline",className:"w-full justify-start",children:(0,b.jsxs)(h.default,{href:"/banker/accounts",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"All Accounts"]})})]})]})]})]})}a.s(["default",()=>k],2868)}];

//# sourceMappingURL=src_71c302f0._.js.map