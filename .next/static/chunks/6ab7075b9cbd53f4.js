(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41263,t=>{"use strict";let e,s,i,r,n,a,o;var u=t.i(43992),c=t.i(39436),l=t.i(94690),h=t.i(15288),d=t.i(87486),p=t.i(19455),f=t.i(4074),m=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};t.i(23128);var y={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},v=new class{#t=y;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},b="undefined"==typeof window||"Deno"in globalThis;function g(){}function x(t){return"number"==typeof t&&t>=0&&t!==1/0}function C(t,e){return Math.max(t+(e||0)-Date.now(),0)}function w(t,e){return"function"==typeof t?t(e):t}function j(t,e){return"function"==typeof t?t(e):t}function O(t,e){let{type:s="all",exact:i,fetchStatus:r,predicate:n,queryKey:a,stale:o}=t;if(a){if(i){if(e.queryHash!==S(a,e.options))return!1}else if(!Q(e.queryKey,a))return!1}if("all"!==s){let t=e.isActive();if("active"===s&&!t||"inactive"===s&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&(!r||r===e.state.fetchStatus)&&(!n||!!n(e))}function R(t,e){let{exact:s,status:i,predicate:r,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(s){if(N(e.options.mutationKey)!==N(n))return!1}else if(!Q(e.options.mutationKey,n))return!1}return(!i||e.state.status===i)&&(!r||!!r(e))}function S(t,e){return(e?.queryKeyHashFn||N)(t)}function N(t){return JSON.stringify(t,(t,e)=>I(e)?Object.keys(e).sort().reduce((t,s)=>(t[s]=e[s],t),{}):e)}function Q(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).every(s=>Q(t[s],e[s]))}var T=Object.prototype.hasOwnProperty;function P(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(t[s]!==e[s])return!1;return!0}function q(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function I(t){if(!D(t))return!1;let e=t.constructor;if(void 0===e)return!0;let s=e.prototype;return!!D(s)&&!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype}function D(t){return"[object Object]"===Object.prototype.toString.call(t)}function F(t,e,s){return"function"==typeof s.structuralSharing?s.structuralSharing(t,e):!1!==s.structuralSharing?function t(e,s){if(e===s)return e;let i=q(e)&&q(s);if(!i&&!(I(e)&&I(s)))return s;let r=(i?e:Object.keys(e)).length,n=i?s:Object.keys(s),a=n.length,o=i?Array(a):{},u=0;for(let c=0;c<a;c++){let a=i?c:n[c],l=e[a],h=s[a];if(l===h){o[a]=l,(i?c<r:T.call(e,a))&&u++;continue}if(null===l||null===h||"object"!=typeof l||"object"!=typeof h){o[a]=h;continue}let d=t(l,h);o[a]=d,d===l&&u++}return r===a&&u===r?e:o}(t,e):e}function E(t,e,s=0){let i=[...t,e];return s&&i.length>s?i.slice(1):i}function A(t,e,s=0){let i=[e,...t];return s&&i.length>s?i.slice(0,-1):i}var M=Symbol();function k(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==M?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}function U(t,e){return"function"==typeof t?t(...e):!!t}var H=new class extends m{#s;#i;#r;constructor(){super(),this.#r=t=>{if(!b&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#i||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(t){this.#r=t,this.#i?.(),this.#i=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#s!==t&&(this.#s=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#s?this.#s:globalThis.document?.visibilityState!=="hidden"}},L=(e=[],s=0,i=t=>{t()},r=t=>{t()},n=function(t){setTimeout(t,0)},{batch:t=>{let a;s++;try{a=t()}finally{let t;--s||(t=e,e=[],t.length&&n(()=>{r(()=>{t.forEach(t=>{i(t)})})}))}return a},batchCalls:t=>(...e)=>{a(()=>{t(...e)})},schedule:a=t=>{s?e.push(t):n(()=>{i(t)})},setNotifyFunction:t=>{i=t},setBatchNotifyFunction:t=>{r=t},setScheduler:t=>{n=t}}),_=new class extends m{#n=!0;#i;#r;constructor(){super(),this.#r=t=>{if(!b&&window.addEventListener){let e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#i||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(t){this.#r=t,this.#i?.(),this.#i=t(this.setOnline.bind(this))}setOnline(t){this.#n!==t&&(this.#n=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#n}};function K(){let t,e,s=new Promise((s,i)=>{t=s,e=i});function i(t){Object.assign(s,t),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=e=>{i({status:"fulfilled",value:e}),t(e)},s.reject=t=>{i({status:"rejected",reason:t}),e(t)},s}function B(t){return Math.min(1e3*2**t,3e4)}function G(t){return(t??"online")!=="online"||_.isOnline()}var z=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function W(t){let e,s=!1,i=0,r=K(),n=()=>H.isFocused()&&("always"===t.networkMode||_.isOnline())&&t.canRun(),a=()=>G(t.networkMode)&&t.canRun(),o=t=>{"pending"===r.status&&(e?.(),r.resolve(t))},u=t=>{"pending"===r.status&&(e?.(),r.reject(t))},c=()=>new Promise(s=>{e=t=>{("pending"!==r.status||n())&&s(t)},t.onPause?.()}).then(()=>{e=void 0,"pending"===r.status&&t.onContinue?.()}),l=()=>{let e;if("pending"!==r.status)return;let a=0===i?t.initialPromise:void 0;try{e=a??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(o).catch(e=>{if("pending"!==r.status)return;let a=t.retry??3*!b,o=t.retryDelay??B,h="function"==typeof o?o(i,e):o,d=!0===a||"number"==typeof a&&i<a||"function"==typeof a&&a(i,e);s||!d?u(e):(i++,t.onFail?.(i,e),new Promise(t=>{v.setTimeout(t,h)}).then(()=>n()?void 0:c()).then(()=>{s?u(e):l()}))})};return{promise:r,status:()=>r.status,cancel:e=>{if("pending"===r.status){let s=new z(e);u(s),t.onCancel?.(s)}},continue:()=>(e?.(),r),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:a,start:()=>(a()?l():c().then(l),r)}}var $=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x(this.gcTime)&&(this.#a=v.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(b?1/0:3e5))}clearGcTimeout(){this.#a&&(v.clearTimeout(this.#a),this.#a=void 0)}},V=class extends ${#o;#u;#c;#l;#h;#d;#p;constructor(t){super(),this.#p=!1,this.#d=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#l=t.client,this.#c=this.#l.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#o=X(this.options),this.state=t.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#h?.promise}setOptions(t){if(this.options={...this.#d,...t},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let t=X(this.options);void 0!==t.data&&(this.setState(J(t.data,t.dataUpdatedAt)),this.#o=t)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(t,e){let s=F(this.state.data,t,this.options);return this.#f({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#f({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#h?.promise;return this.#h?.cancel(t),e?e.then(g).catch(g):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(t=>!1!==j(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(t=>"static"===w(t.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(t=0){return void 0===this.state.data||"static"!==t&&(!!this.state.isInvalidated||!C(this.state.dataUpdatedAt,t))}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#h?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#h?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#h&&(this.#p?this.#h.cancel({revert:!0}):this.#h.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(t,e){let s;if("idle"!==this.state.fetchStatus&&this.#h?.status()!=="rejected"){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#h)return this.#h.continueRetry(),this.#h.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let i=new AbortController,r=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#p=!0,i.signal)})},n=()=>{let t,s=k(this.options,e),i=(r(t={client:this.#l,queryKey:this.queryKey,meta:this.meta}),t);return(this.#p=!1,this.options.persister)?this.options.persister(s,i,this):s(i)},a=(r(s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:n}),s);this.options.behavior?.onFetch(a,this),this.#u=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#f({type:"fetch",meta:a.fetchOptions?.meta}),this.#h=W({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:t=>{t instanceof z&&t.revert&&this.setState({...this.#u,fetchStatus:"idle"}),i.abort()},onFail:(t,e)=>{this.#f({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let t=await this.#h.start();if(void 0===t)throw Error(`${this.queryHash} data is undefined`);return this.setData(t),this.#c.config.onSuccess?.(t,this),this.#c.config.onSettled?.(t,this.state.error,this),t}catch(t){if(t instanceof z){if(t.silent)return this.#h.promise;else if(t.revert){if(void 0===this.state.data)throw t;return this.state.data}}throw this.#f({type:"error",error:t}),this.#c.config.onError?.(t,this),this.#c.config.onSettled?.(this.state.data,t,this),t}finally{this.scheduleGc()}}#f(t){let e=e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...Y(e.data,this.options),fetchMeta:t.meta??null};case"success":let s={...e,...J(t.data,t.dataUpdatedAt),dataUpdateCount:e.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#u=t.manual?s:void 0,s;case"error":let i=t.error;return{...e,error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}};this.state=e(this.state),L.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:t})})}};function Y(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}function J(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function X(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,s=void 0!==e,i=s?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Z=class extends m{constructor(t,e){super(),this.options=e,this.#l=t,this.#m=null,this.#y=K(),this.bindMethods(),this.setOptions(e)}#l;#v=void 0;#b=void 0;#g=void 0;#x;#C;#y;#m;#w;#j;#O;#R;#S;#N;#Q=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#v.addObserver(this),tt(this.#v,this.options)?this.#T():this.updateResult(),this.#P())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return te(this.#v,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return te(this.#v,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#q(),this.#I(),this.#v.removeObserver(this)}setOptions(t){let e=this.options,s=this.#v;if(this.options=this.#l.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof j(this.options.enabled,this.#v))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#D(),this.#v.setOptions(this.options),e._defaulted&&!P(this.options,e)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#v,observer:this});let i=this.hasListeners();i&&ts(this.#v,s,this.options,e)&&this.#T(),this.updateResult(),i&&(this.#v!==s||j(this.options.enabled,this.#v)!==j(e.enabled,this.#v)||w(this.options.staleTime,this.#v)!==w(e.staleTime,this.#v))&&this.#F();let r=this.#E();i&&(this.#v!==s||j(this.options.enabled,this.#v)!==j(e.enabled,this.#v)||r!==this.#N)&&this.#A(r)}getOptimisticResult(t){var e,s;let i=this.#l.getQueryCache().build(this.#l,t),r=this.createResult(i,t);return e=this,s=r,P(e.getCurrentResult(),s)||(this.#g=r,this.#C=this.options,this.#x=this.#v.state),r}getCurrentResult(){return this.#g}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),e?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#y.status||this.#y.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(t){this.#Q.add(t)}getCurrentQuery(){return this.#v}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#l.defaultQueryOptions(t),s=this.#l.getQueryCache().build(this.#l,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#T({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#g))}#T(t){this.#D();let e=this.#v.fetch(this.options,t);return t?.throwOnError||(e=e.catch(g)),e}#F(){this.#q();let t=w(this.options.staleTime,this.#v);if(b||this.#g.isStale||!x(t))return;let e=C(this.#g.dataUpdatedAt,t);this.#R=v.setTimeout(()=>{this.#g.isStale||this.updateResult()},e+1)}#E(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#v):this.options.refetchInterval)??!1}#A(t){this.#I(),this.#N=t,!b&&!1!==j(this.options.enabled,this.#v)&&x(this.#N)&&0!==this.#N&&(this.#S=v.setInterval(()=>{(this.options.refetchIntervalInBackground||H.isFocused())&&this.#T()},this.#N))}#P(){this.#F(),this.#A(this.#E())}#q(){this.#R&&(v.clearTimeout(this.#R),this.#R=void 0)}#I(){this.#S&&(v.clearInterval(this.#S),this.#S=void 0)}createResult(t,e){let s,i=this.#v,r=this.options,n=this.#g,a=this.#x,o=this.#C,u=t!==i?t.state:this.#b,{state:c}=t,l={...c},h=!1;if(e._optimisticResults){let s=this.hasListeners(),n=!s&&tt(t,e),a=s&&ts(t,i,e,r);(n||a)&&(l={...l,...Y(c.data,t.options)}),"isRestoring"===e._optimisticResults&&(l.fetchStatus="idle")}let{error:d,errorUpdatedAt:p,status:f}=l;s=l.data;let m=!1;if(void 0!==e.placeholderData&&void 0===s&&"pending"===f){let t;n?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(t=n.data,m=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#O?.state.data,this.#O):e.placeholderData,void 0!==t&&(f="success",s=F(n?.data,t,e),h=!0)}if(e.select&&void 0!==s&&!m)if(n&&s===a?.data&&e.select===this.#w)s=this.#j;else try{this.#w=e.select,s=e.select(s),s=F(n?.data,s,e),this.#j=s,this.#m=null}catch(t){this.#m=t}this.#m&&(d=this.#m,s=this.#j,p=Date.now(),f="error");let y="fetching"===l.fetchStatus,v="pending"===f,b="error"===f,g=v&&y,x=void 0!==s,C={status:f,fetchStatus:l.fetchStatus,isPending:v,isSuccess:"success"===f,isError:b,isInitialLoading:g,isLoading:g,data:s,dataUpdatedAt:l.dataUpdatedAt,error:d,errorUpdatedAt:p,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!x,isPaused:"paused"===l.fetchStatus,isPlaceholderData:h,isRefetchError:b&&x,isStale:ti(t,e),refetch:this.refetch,promise:this.#y,isEnabled:!1!==j(e.enabled,t)};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===C.status?t.reject(C.error):void 0!==C.data&&t.resolve(C.data)},s=()=>{e(this.#y=C.promise=K())},r=this.#y;switch(r.status){case"pending":t.queryHash===i.queryHash&&e(r);break;case"fulfilled":("error"===C.status||C.data!==r.value)&&s();break;case"rejected":("error"!==C.status||C.error!==r.reason)&&s()}}return C}updateResult(){let t=this.#g,e=this.createResult(this.#v,this.options);if(this.#x=this.#v.state,this.#C=this.options,void 0!==this.#x.data&&(this.#O=this.#v),P(e,t))return;this.#g=e;let s=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.#Q.size)return!0;let i=new Set(s??this.#Q);return this.options.throwOnError&&i.add("error"),Object.keys(this.#g).some(e=>this.#g[e]!==t[e]&&i.has(e))};this.#M({listeners:s()})}#D(){let t=this.#l.getQueryCache().build(this.#l,this.options);if(t===this.#v)return;let e=this.#v;this.#v=t,this.#b=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#P()}#M(t){L.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#g)}),this.#l.getQueryCache().notify({query:this.#v,type:"observerResultsUpdated"})})}};function tt(t,e){return!1!==j(e.enabled,t)&&void 0===t.state.data&&("error"!==t.state.status||!1!==e.retryOnMount)||void 0!==t.state.data&&te(t,e,e.refetchOnMount)}function te(t,e,s){if(!1!==j(e.enabled,t)&&"static"!==w(e.staleTime,t)){let i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&ti(t,e)}return!1}function ts(t,e,s,i){return(t!==e||!1===j(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&ti(t,s)}function ti(t,e){return!1!==j(e.enabled,t)&&t.isStaleByTime(w(e.staleTime,t))}var tr=c.createContext(void 0),tn=({client:t,children:e})=>(c.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,u.jsx)(tr.Provider,{value:t,children:e})),ta=c.createContext((o=!1,{clearReset:()=>{o=!1},reset:()=>{o=!0},isReset:()=>o})),to=c.createContext(!1);to.Provider;var tu=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()}),tc=t.i(98631);let tl=(0,tc.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),th=(0,tc.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),td=(0,tc.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var tp=t.i(31924),tf=class extends m{constructor(t={}){super(),this.config=t,this.#k=new Map}#k;build(t,e,s){let i=e.queryKey,r=e.queryHash??S(i,e),n=this.get(r);return n||(n=new V({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(n)),n}add(t){this.#k.has(t.queryHash)||(this.#k.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#k.get(t.queryHash);e&&(t.destroy(),e===t&&this.#k.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){L.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#k.get(t)}getAll(){return[...this.#k.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>O(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>O(t,e)):e}notify(t){L.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){L.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){L.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tm=class extends ${#l;#U;#H;#h;constructor(t){super(),this.#l=t.client,this.mutationId=t.mutationId,this.#H=t.mutationCache,this.#U=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#U.includes(t)||(this.#U.push(t),this.clearGcTimeout(),this.#H.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#U=this.#U.filter(e=>e!==t),this.scheduleGc(),this.#H.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#U.length||("pending"===this.state.status?this.scheduleGc():this.#H.remove(this))}continue(){return this.#h?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#f({type:"continue"})},s={client:this.#l,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#h=W({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#f({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#f({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#H.canRun(this)});let i="pending"===this.state.status,r=!this.#h.canStart();try{if(i)e();else{this.#f({type:"pending",variables:t,isPaused:r}),await this.#H.config.onMutate?.(t,this,s);let e=await this.options.onMutate?.(t,s);e!==this.state.context&&this.#f({type:"pending",context:e,variables:t,isPaused:r})}let n=await this.#h.start();return await this.#H.config.onSuccess?.(n,t,this.state.context,this,s),await this.options.onSuccess?.(n,t,this.state.context,s),await this.#H.config.onSettled?.(n,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(n,null,t,this.state.context,s),this.#f({type:"success",data:n}),n}catch(e){try{await this.#H.config.onError?.(e,t,this.state.context,this,s)}catch(t){Promise.reject(t)}try{await this.options.onError?.(e,t,this.state.context,s)}catch(t){Promise.reject(t)}try{await this.#H.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this,s)}catch(t){Promise.reject(t)}try{await this.options.onSettled?.(void 0,e,t,this.state.context,s)}catch(t){Promise.reject(t)}throw this.#f({type:"error",error:e}),e}finally{this.#H.runNext(this)}}#f(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),L.batch(()=>{this.#U.forEach(e=>{e.onMutationUpdate(t)}),this.#H.notify({mutation:this,type:"updated",action:t})})}},ty=class extends m{constructor(t={}){super(),this.config=t,this.#L=new Set,this.#_=new Map,this.#K=0}#L;#_;#K;build(t,e,s){let i=new tm({client:t,mutationCache:this,mutationId:++this.#K,options:t.defaultMutationOptions(e),state:s});return this.add(i),i}add(t){this.#L.add(t);let e=tv(t);if("string"==typeof e){let s=this.#_.get(e);s?s.push(t):this.#_.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#L.delete(t)){let e=tv(t);if("string"==typeof e){let s=this.#_.get(e);if(s)if(s.length>1){let e=s.indexOf(t);-1!==e&&s.splice(e,1)}else s[0]===t&&this.#_.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=tv(t);if("string"!=typeof e)return!0;{let s=this.#_.get(e),i=s?.find(t=>"pending"===t.state.status);return!i||i===t}}runNext(t){let e=tv(t);if("string"!=typeof e)return Promise.resolve();{let s=this.#_.get(e)?.find(e=>e!==t&&e.state.isPaused);return s?.continue()??Promise.resolve()}}clear(){L.batch(()=>{this.#L.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#L.clear(),this.#_.clear()})}getAll(){return Array.from(this.#L)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>R(e,t))}findAll(t={}){return this.getAll().filter(e=>R(t,e))}notify(t){L.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return L.batch(()=>Promise.all(t.map(t=>t.continue().catch(g))))}};function tv(t){return t.options.scope?.id}function tb(t){return{onFetch:(e,s)=>{let i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,n=e.state.data?.pages||[],a=e.state.data?.pageParams||[],o={pages:[],pageParams:[]},u=0,c=async()=>{let s=!1,c=k(e.options,e.fetchOptions),l=async(t,i,r)=>{if(s)return Promise.reject();if(null==i&&t.pages.length)return Promise.resolve(t);let n=(()=>{var t,n;let a,o,u={client:e.client,queryKey:e.queryKey,pageParam:i,direction:r?"backward":"forward",meta:e.options.meta};return t=()=>e.signal,n=()=>s=!0,o=!1,Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(a??=t(),o||(o=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),u})(),a=await c(n),{maxPages:o}=e.options,u=r?A:E;return{pages:u(t.pages,a,o),pageParams:u(t.pageParams,i,o)}};if(r&&n.length){let t="backward"===r,e={pages:n,pageParams:a},s=(t?function(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}:tg)(i,e);o=await l(e,s,t)}else{let e=t??n.length;do{let t=0===u?a[0]??i.initialPageParam:tg(i,o);if(u>0&&null==t)break;o=await l(o,t),u++}while(u<e)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=c}}}function tg(t,{pages:e,pageParams:s}){let i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,s[i],s):void 0}var tx=class{#B;#H;#d;#G;#z;#W;#$;#V;constructor(t={}){this.#B=t.queryCache||new tf,this.#H=t.mutationCache||new ty,this.#d=t.defaultOptions||{},this.#G=new Map,this.#z=new Map,this.#W=0}mount(){this.#W++,1===this.#W&&(this.#$=H.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#B.onFocus())}),this.#V=_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#B.onOnline())}))}unmount(){this.#W--,0===this.#W&&(this.#$?.(),this.#$=void 0,this.#V?.(),this.#V=void 0)}isFetching(t){return this.#B.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#H.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#B.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),s=this.#B.build(this,e),i=s.state.data;return void 0===i?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(w(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#B.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,s){let i=this.defaultQueryOptions({queryKey:t}),r=this.#B.get(i.queryHash),n=r?.state.data,a="function"==typeof e?e(n):e;if(void 0!==a)return this.#B.build(this,i).setData(a,{...s,manual:!0})}setQueriesData(t,e,s){return L.batch(()=>this.#B.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,s)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#B.get(e.queryHash)?.state}removeQueries(t){let e=this.#B;L.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let s=this.#B;return L.batch(()=>(s.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let s={revert:!0,...e};return Promise.all(L.batch(()=>this.#B.findAll(t).map(t=>t.cancel(s)))).then(g).catch(g)}invalidateQueries(t,e={}){return L.batch(()=>(this.#B.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))}refetchQueries(t,e={}){let s={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(L.batch(()=>this.#B.findAll(t).filter(t=>!t.isDisabled()&&!t.isStatic()).map(t=>{let e=t.fetch(void 0,s);return s.throwOnError||(e=e.catch(g)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(g)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let s=this.#B.build(this,e);return s.isStaleByTime(w(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(g).catch(g)}fetchInfiniteQuery(t){return t.behavior=tb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(g).catch(g)}ensureInfiniteQueryData(t){return t.behavior=tb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _.isOnline()?this.#H.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#B}getMutationCache(){return this.#H}getDefaultOptions(){return this.#d}setDefaultOptions(t){this.#d=t}setQueryDefaults(t,e){this.#G.set(N(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#G.values()],s={};return e.forEach(e=>{Q(t,e.queryKey)&&Object.assign(s,e.defaultOptions)}),s}setMutationDefaults(t,e){this.#z.set(N(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#z.values()],s={};return e.forEach(e=>{Q(t,e.mutationKey)&&Object.assign(s,e.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#d.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=S(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===M&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#d.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#B.clear(),this.#H.clear()}};function tC(t){let e,s=(0,f.c)(3),{children:i}=t,[r]=(0,c.useState)(tw);return s[0]!==i||s[1]!==r?(e=(0,u.jsx)(tn,{client:r,children:i}),s[0]=i,s[1]=r,s[2]=e):e=s[2],e}function tw(){return new tx({defaultOptions:{queries:{staleTime:6e4}}})}async function tj(){let t=await fetch("/api/v1/customer/stats");if(!t.ok)throw Error("Failed to fetch stats");return t.json()}function tO(){let t,e=(0,f.c)(1);return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(tC,{children:(0,u.jsx)(tR,{})}),e[0]=t):t=e[0],t}function tR(){let t,e,s,i,r,n,a,o,l,d,p,m,y,v=(0,f.c)(27);v[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["customer-stats"],queryFn:tj,refetchInterval:3e4},v[0]=t):t=v[0];let{data:x,isLoading:C,error:w}=function(t,e,s){let i,r=c.useContext(to),n=c.useContext(ta),a=(t=>{let e=c.useContext(tr);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e})(s),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let u=a.getQueryCache().get(o.queryHash);if(o._optimisticResults=r?"isRestoring":"optimistic",o.suspense){let t=t=>"static"===t?t:Math.max(t??1e3,1e3),e=o.staleTime;o.staleTime="function"==typeof e?(...s)=>t(e(...s)):t(e),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}i=u?.state.error&&"function"==typeof o.throwOnError?U(o.throwOnError,[u.state.error,u]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||i)&&!n.isReset()&&(o.retryOnMount=!1),c.useEffect(()=>{n.clearReset()},[n]);let l=!a.getQueryCache().get(o.queryHash),[h]=c.useState(()=>new e(a,o)),d=h.getOptimisticResult(o),p=!r&&!1!==t.subscribed;if(c.useSyncExternalStore(c.useCallback(t=>{let e=p?h.subscribe(L.batchCalls(t)):g;return h.updateResult(),e},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),c.useEffect(()=>{h.setOptions(o)},[o,h]),o?.suspense&&d.isPending)throw tu(o,h,n);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&void 0===t.data||U(s,[t.error,i])))({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:u,suspense:o.suspense}))throw d.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!b&&d.isLoading&&d.isFetching&&!r){let t=l?tu(o,h,n):u?.promise;t?.catch(g).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?d:h.trackResult(d)}(t,Z,void 0);if(C){let t;return v[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7 animate-pulse",children:[(0,u.jsx)("div",{className:"col-span-4 h-[300px] bg-muted/20 rounded-xl"}),(0,u.jsx)("div",{className:"col-span-3 h-[300px] bg-muted/20 rounded-xl"})]}),v[1]=t):t=v[1],t}if(w||!x)return null;let j=tT;v[2]!==x.monthlyStats?(e=Math.max(...x.monthlyStats.map(tQ),1e3),v[2]=x.monthlyStats,v[3]=e):e=v[3];let O=e;v[4]!==x.activityStats?(s=Math.max(...x.activityStats.map(tN),5),v[4]=x.activityStats,v[5]=s):s=v[5];let R=s;return v[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,u.jsxs)(h.CardHeader,{children:[(0,u.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Financial Overview"}),(0,u.jsx)(h.CardDescription,{children:"Income vs Expense (Last 6 Months)"})]}),v[6]=i):i=v[6],v[7]!==O||v[8]!==x.monthlyStats?(r=0===x.monthlyStats.length?(0,u.jsx)("div",{className:"w-full text-center text-muted-foreground text-sm flex items-center justify-center h-full",children:"No activity data available"}):x.monthlyStats.map((t,e)=>(0,u.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-1 group relative",children:[(0,u.jsxs)("div",{className:"flex gap-1 w-full justify-center items-end h-full",children:[(0,u.jsx)("div",{className:"w-3 md:w-6 bg-emerald-500/80 hover:bg-emerald-500 rounded-t-sm transition-all duration-500 relative",style:{height:`${t.income/O*100}%`},children:(0,u.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-popover text-popover-foreground text-xs p-1 rounded shadow-lg pointer-events-none whitespace-nowrap z-10 transition-opacity",children:["+",j(t.income)]})}),(0,u.jsx)("div",{className:"w-3 md:w-6 bg-rose-500/80 hover:bg-rose-500 rounded-t-sm transition-all duration-500 relative",style:{height:`${t.expense/O*100}%`},children:(0,u.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-popover text-popover-foreground text-xs p-1 rounded shadow-lg pointer-events-none whitespace-nowrap z-10 transition-opacity",children:["-",j(t.expense)]})})]}),(0,u.jsx)("span",{className:"text-[10px] text-muted-foreground font-medium truncate w-full text-center",children:t.month})]},t.month)),v[7]=O,v[8]=x.monthlyStats,v[9]=r):r=v[9],v[10]!==r?(n=(0,u.jsxs)(h.Card,{className:"col-span-4 shadow-sm border-0 bg-white/50 backdrop-blur-sm",children:[i,(0,u.jsx)(h.CardContent,{children:(0,u.jsx)("div",{className:"h-[200px] w-full flex items-end justify-between gap-2 pt-4",children:r})})]}),v[10]=r,v[11]=n):n=v[11],v[12]===Symbol.for("react.memo_cache_sentinel")?(a=(0,u.jsxs)(h.CardHeader,{children:[(0,u.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Activity Breakdown"}),(0,u.jsx)(h.CardDescription,{children:"Transaction types"})]}),v[12]=a):a=v[12],v[13]!==R||v[14]!==x.activityStats?(o=0===x.activityStats.length?(0,u.jsx)("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No activity recorded"}):x.activityStats.map(t=>(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsxs)("div",{className:(0,tp.cn)("flex h-9 w-9 items-center justify-center rounded-full border border-2","TRANSFER"===t.type?"border-blue-100 bg-blue-50 text-blue-600":"DEPOSIT"===t.type?"border-emerald-100 bg-emerald-50 text-emerald-600":"border-rose-100 bg-rose-50 text-rose-600"),children:["TRANSFER"===t.type&&(0,u.jsx)(td,{className:"h-4 w-4"}),"DEPOSIT"===t.type&&(0,u.jsx)(th,{className:"h-4 w-4"}),"WITHDRAWAL"===t.type&&(0,u.jsx)(tl,{className:"h-4 w-4"})]}),(0,u.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,u.jsxs)("p",{className:"text-sm font-medium leading-none",children:[t.type,"s"]}),(0,u.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.count," transactions"]})]}),(0,u.jsx)("div",{className:"ml-auto font-medium",children:(0,u.jsx)("div",{className:"w-24 h-2 bg-secondary rounded-full overflow-hidden",children:(0,u.jsx)("div",{className:(0,tp.cn)("h-full rounded-full","TRANSFER"===t.type?"bg-blue-500":"DEPOSIT"===t.type?"bg-emerald-500":"bg-rose-500"),style:{width:`${t.count/R*100}%`}})})})]},t.type)),v[13]=R,v[14]=x.activityStats,v[15]=o):o=v[15],v[16]===Symbol.for("react.memo_cache_sentinel")?(l=(0,u.jsx)("span",{children:"Total Interactions"}),v[16]=l):l=v[16],v[17]!==x.activityStats?(d=x.activityStats.reduce(tS,0),v[17]=x.activityStats,v[18]=d):d=v[18],v[19]!==d?(p=(0,u.jsxs)("div",{className:"pt-4 border-t flex justify-between items-center text-sm text-muted-foreground",children:[l,(0,u.jsx)("span",{className:"font-semibold text-foreground",children:d})]}),v[19]=d,v[20]=p):p=v[20],v[21]!==p||v[22]!==o?(m=(0,u.jsxs)(h.Card,{className:"col-span-3 shadow-sm border-0 bg-white/50 backdrop-blur-sm",children:[a,(0,u.jsx)(h.CardContent,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[o,p]})})]}),v[21]=p,v[22]=o,v[23]=m):m=v[23],v[24]!==m||v[25]!==n?(y=(0,u.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7 mb-8",children:[n,m]}),v[24]=m,v[25]=n,v[26]=y):y=v[26],y}function tS(t,e){return t+e.count}function tN(t){return t.count}function tQ(t){return Math.max(t.income,t.expense)}function tT(t){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(t)}var tP=t.i(68050);function tq(){let{user:t}=(0,l.useAuth)(),[e,s]=(0,c.useState)([]),[i,r]=(0,c.useState)(!0);(0,c.useEffect)(()=>{n()},[]);let n=async()=>{let t=await (0,l.apiClient)("/accounts");t.success&&t.data&&s(t.data),r(!1)},a=e.reduce((t,e)=>t+e.balance.availableBalance,0),o=t=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:2}).format(t);return(0,u.jsxs)("div",{className:"space-y-8",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{className:"text-2xl font-bold text-slate-900",children:["Welcome back, ",t?.firstName]}),(0,u.jsx)("p",{className:"text-slate-600 mt-1",children:"Here's an overview of your accounts"})]}),(0,u.jsx)(tO,{}),(0,u.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,u.jsxs)(h.Card,{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white",children:[(0,u.jsx)(h.CardHeader,{className:"pb-2",children:(0,u.jsx)(h.CardDescription,{className:"text-slate-300",children:"Total Balance"})}),(0,u.jsxs)(h.CardContent,{children:[(0,u.jsx)("p",{className:"text-3xl font-bold",children:o(a)}),(0,u.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:["Across ",e.length," account",1!==e.length?"s":""]})]})]}),(0,u.jsxs)(h.Card,{children:[(0,u.jsx)(h.CardHeader,{className:"pb-2",children:(0,u.jsx)(h.CardDescription,{children:"Active Accounts"})}),(0,u.jsxs)(h.CardContent,{children:[(0,u.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:e.filter(t=>"ACTIVE"===t.status).length}),(0,u.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Ready for transactions"})]})]}),(0,u.jsxs)(h.Card,{children:[(0,u.jsx)(h.CardHeader,{className:"pb-2",children:(0,u.jsx)(h.CardDescription,{children:"Quick Actions"})}),(0,u.jsxs)(h.CardContent,{className:"flex flex-wrap gap-2",children:[(0,u.jsx)(p.Button,{asChild:!0,size:"sm",children:(0,u.jsx)(tP.default,{href:"/customer/transfers",children:"New Transfer"})}),(0,u.jsx)(p.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,u.jsx)(tP.default,{href:"/customer/accounts/apply",children:"Open Account"})}),(0,u.jsx)(p.Button,{asChild:!0,variant:"ghost",size:"sm",children:(0,u.jsx)(tP.default,{href:"/customer/statements",children:"Statements"})})]})]})]}),e.some(t=>"PENDING"===t.status)&&(0,u.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[(0,u.jsx)("div",{className:"p-1 bg-yellow-100 rounded-full text-yellow-700 mt-0.5",children:(0,u.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-yellow-900",children:"Application Under Review"}),(0,u.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["You have ",e.filter(t=>"PENDING"===t.status).length," account application(s) currently being reviewed by our team. You will be notified once they are active."]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Your Accounts"}),(0,u.jsx)(p.Button,{asChild:!0,variant:"ghost",size:"sm",children:(0,u.jsx)(tP.default,{href:"/customer/accounts",children:"View all â†’"})})]}),i?(0,u.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2].map(t=>(0,u.jsx)(h.Card,{className:"animate-pulse",children:(0,u.jsxs)(h.CardContent,{className:"p-6",children:[(0,u.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/3 mb-4"}),(0,u.jsx)("div",{className:"h-8 bg-slate-200 rounded w-1/2"})]})},t))}):0===e.length?(0,u.jsx)(h.Card,{children:(0,u.jsxs)(h.CardContent,{className:"p-8 text-center",children:[(0,u.jsx)("p",{className:"text-slate-500",children:"No accounts found."}),(0,u.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Visit your nearest branch or apply online to open an account."}),(0,u.jsx)(p.Button,{asChild:!0,className:"mt-4",children:(0,u.jsx)(tP.default,{href:"/customer/accounts/apply",children:"Open Account"})})]})}):(0,u.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(t=>(0,u.jsx)(h.Card,{className:`transition-shadow ${"PENDING"===t.status?"opacity-75 bg-slate-50 border-dashed":"hover:shadow-md"}`,children:(0,u.jsxs)(h.CardContent,{className:"p-6",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm text-slate-500",children:t.accountTypeName}),(0,u.jsx)("p",{className:"font-mono text-sm text-slate-600 mt-0.5",children:t.accountNumber||"Pending Allocation"})]}),(0,u.jsx)(d.Badge,{variant:"ACTIVE"===t.status?"default":"secondary",className:"PENDING"===t.status?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"",children:t.status})]}),(0,u.jsx)("p",{className:"text-2xl font-bold text-slate-900 mt-4",children:o(t.balance.availableBalance)}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Available balance"})]})},t.id))})]})]})}t.s(["default",()=>tq],41263)}]);